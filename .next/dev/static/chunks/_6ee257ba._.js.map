{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/quanghoang/Documents/CV/GameCloudGaming/moonlight-web/nextjs-frontend/app/theme.ts"],"sourcesContent":["import { createTheme } from '@mui/material/styles';\n\n// Create a dark theme similar to the original Moonlight Web design\nexport const darkTheme = createTheme({\n    palette: {\n        mode: 'dark',\n        primary: {\n            main: '#90caf9',\n            dark: '#42a5f5',\n            light: '#e3f2fd',\n        },\n        secondary: {\n            main: '#f48fb1',\n            dark: '#ec407a',\n            light: '#fce4ec',\n        },\n        background: {\n            default: '#121212',\n            paper: '#1e1e1e',\n        },\n    },\n    typography: {\n        fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    },\n    components: {\n        MuiCard: {\n            styleOverrides: {\n                root: {\n                    borderRadius: 8,\n                    transition: 'transform 0.2s, box-shadow 0.2s',\n                    '&:hover': {\n                        transform: 'translateY(-4px)',\n                        boxShadow: '0 8px 16px rgba(0,0,0,0.3)',\n                    },\n                },\n            },\n        },\n        MuiButton: {\n            styleOverrides: {\n                root: {\n                    textTransform: 'none',\n                    borderRadius: 8,\n                },\n            },\n        },\n    },\n});\n\n// Optional: Create a light theme for future use\nexport const lightTheme = createTheme({\n    palette: {\n        mode: 'light',\n        primary: {\n            main: '#1976d2',\n        },\n        secondary: {\n            main: '#dc004e',\n        },\n    },\n});\n"],"names":[],"mappings":";;;;;;AAAA;;AAGO,MAAM,YAAY,IAAA,6NAAW,EAAC;IACjC,SAAS;QACL,MAAM;QACN,SAAS;YACL,MAAM;YACN,MAAM;YACN,OAAO;QACX;QACA,WAAW;YACP,MAAM;YACN,MAAM;YACN,OAAO;QACX;QACA,YAAY;YACR,SAAS;YACT,OAAO;QACX;IACJ;IACA,YAAY;QACR,YAAY;IAChB;IACA,YAAY;QACR,SAAS;YACL,gBAAgB;gBACZ,MAAM;oBACF,cAAc;oBACd,YAAY;oBACZ,WAAW;wBACP,WAAW;wBACX,WAAW;oBACf;gBACJ;YACJ;QACJ;QACA,WAAW;YACP,gBAAgB;gBACZ,MAAM;oBACF,eAAe;oBACf,cAAc;gBAClB;YACJ;QACJ;IACJ;AACJ;AAGO,MAAM,aAAa,IAAA,6NAAW,EAAC;IAClC,SAAS;QACL,MAAM;QACN,SAAS;YACL,MAAM;QACV;QACA,WAAW;YACP,MAAM;QACV;IACJ;AACJ"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/quanghoang/Documents/CV/GameCloudGaming/moonlight-web/nextjs-frontend/app/ThemeRegistry.tsx"],"sourcesContent":["\"use client\"\n\n\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport { AppRouterCacheProvider } from '@mui/material-nextjs/v15-appRouter';\nimport { darkTheme } from \"./theme\";\n\nexport default function ThemeRegistry({ children }: { children: React.ReactNode }) {\n    return (\n        <AppRouterCacheProvider>\n            <ThemeProvider theme={darkTheme}>\n                <CssBaseline />\n                {children}\n            </ThemeProvider>\n        </AppRouterCacheProvider>\n    );\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AANA;;;;;;AAQe,SAAS,cAAc,EAAE,QAAQ,EAAiC;IAC7E,qBACI,6LAAC,wQAAsB;kBACnB,cAAA,6LAAC,mOAAa;YAAC,OAAO,4HAAS;;8BAC3B,6LAAC,oLAAW;;;;;gBACX;;;;;;;;;;;;AAIjB;KATwB"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///Users/quanghoang/Documents/CV/GameCloudGaming/moonlight-web/nextjs-frontend/lib/api/router.ts"],"sourcesContent":["// Python backend handles authentication (JWT)\n// Next.js API routes will proxy host-related requests to Rust backend\nexport const API_ROUTER = \"http://localhost:8001\""],"names":[],"mappings":"AAAA,8CAA8C;AAC9C,sEAAsE;;;;;AAC/D,MAAM,aAAa"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/quanghoang/Documents/CV/GameCloudGaming/moonlight-web/nextjs-frontend/lib/api/auth.ts"],"sourcesContent":["import axios from 'axios';\nimport { API_ROUTER } from './router';\n\nexport interface LoginCredentials {\n    username: string; // Can be email or username\n    password: string;\n}\n\nexport interface AuthResponse {\n    access_token: string;\n    refresh_token: string;\n    token_type: string;\n}\n\nexport interface UserInfo {\n    id: number;\n    username: string;\n    email: string;\n    is_active: boolean;\n    created_at: string;\n}\n\nconst TOKEN_KEY = 'auth_token';\nconst REFRESH_TOKEN_KEY = 'refresh_token';\n\nexport class AuthService {\n    /**\n     * Login user with username/email and password\n     */\n    static async login(credentials: LoginCredentials): Promise<AuthResponse> {\n        // FastAPI OAuth2PasswordRequestForm expects application/x-www-form-urlencoded format\n        const formData = new URLSearchParams();\n        formData.append('username', credentials.username);\n        formData.append('password', credentials.password);\n\n        const response = await axios.post<AuthResponse>(\n            `${API_ROUTER}/auth/login`,\n            formData,\n            {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                },\n            }\n        );\n\n        // Store both tokens in localStorage\n        if (response.data.access_token) {\n            this.setToken(response.data.access_token);\n        }\n        if (response.data.refresh_token) {\n            this.setRefreshToken(response.data.refresh_token);\n        }\n\n        return response.data;\n    }\n\n    /**\n     * Get current user information\n     */\n    static async getCurrentUser(): Promise<UserInfo> {\n        const token = this.getToken();\n        if (!token) {\n            throw new Error('No authentication token found');\n        }\n\n        const response = await axios.get<UserInfo>(\n            `${API_ROUTER}/auth/me`,\n            {\n                headers: {\n                    'Authorization': `Bearer ${token}`,\n                },\n            }\n        );\n\n        return response.data;\n    }\n\n    /**\n     * Refresh authentication token\n     */\n    static async refreshToken(): Promise<AuthResponse> {\n        const refreshToken = this.getRefreshToken();\n        if (!refreshToken) {\n            throw new Error('No refresh token found');\n        }\n\n        const response = await axios.post<AuthResponse>(\n            `${API_ROUTER}/auth/refresh`,\n            {},\n            {\n                headers: {\n                    'X-Refresh-Token': refreshToken,\n                },\n            }\n        );\n\n        // Update both tokens in localStorage\n        if (response.data.access_token) {\n            this.setToken(response.data.access_token);\n        }\n        if (response.data.refresh_token) {\n            this.setRefreshToken(response.data.refresh_token);\n        }\n\n        return response.data;\n    }\n\n    /**\n     * Logout user and clear tokens\n     */\n    static async logout(): Promise<void> {\n        const refreshToken = this.getRefreshToken();\n\n        if (refreshToken) {\n            try {\n                await axios.post(\n                    `${API_ROUTER}/auth/logout`,\n                    {},\n                    {\n                        headers: {\n                            'X-Refresh-Token': refreshToken,\n                        },\n                    }\n                );\n            } catch (error) {\n                console.error('Logout error:', error);\n            }\n        }\n\n        this.removeToken();\n        this.removeRefreshToken();\n    }\n\n    /**\n     * Store authentication token\n     */\n    static setToken(token: string): void {\n        if (typeof window !== 'undefined') {\n            localStorage.setItem(TOKEN_KEY, token);\n        }\n    }\n\n    /**\n     * Retrieve authentication token\n     */\n    static getToken(): string | null {\n        if (typeof window !== 'undefined') {\n            return localStorage.getItem(TOKEN_KEY);\n        }\n        return null;\n    }\n\n    /**\n     * Remove authentication token\n     */\n    static removeToken(): void {\n        if (typeof window !== 'undefined') {\n            localStorage.removeItem(TOKEN_KEY);\n        }\n    }\n\n    /**\n     * Store refresh token\n     */\n    static setRefreshToken(token: string): void {\n        if (typeof window !== 'undefined') {\n            localStorage.setItem(REFRESH_TOKEN_KEY, token);\n        }\n    }\n\n    /**\n     * Retrieve refresh token\n     */\n    static getRefreshToken(): string | null {\n        if (typeof window !== 'undefined') {\n            return localStorage.getItem(REFRESH_TOKEN_KEY);\n        }\n        return null;\n    }\n\n    /**\n     * Remove refresh token\n     */\n    static removeRefreshToken(): void {\n        if (typeof window !== 'undefined') {\n            localStorage.removeItem(REFRESH_TOKEN_KEY);\n        }\n    }\n\n    /**\n     * Check if user is authenticated\n     */\n    static isAuthenticated(): boolean {\n        return !!this.getToken();\n    }\n\n    /**\n     * Get authorization header for authenticated requests\n     */\n    static getAuthHeader(): { Authorization: string } | {} {\n        const token = this.getToken();\n        return token ? { Authorization: `Bearer ${token}` } : {};\n    }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///Users/quanghoang/Documents/CV/GameCloudGaming/moonlight-web/nextjs-frontend/app/context/AuthContext.tsx"],"sourcesContent":["'use client'\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react'\nimport { AuthService, UserInfo } from '@/lib/api/auth'\n\ninterface AuthContextType {\n    user: UserInfo | null\n    isAuthenticated: boolean\n    loading: boolean\n    login: (username: string, password: string) => Promise<void>\n    logout: () => Promise<void>\n    refreshUser: () => Promise<void>\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n    const [user, setUser] = useState<UserInfo | null>(null)\n    const [loading, setLoading] = useState(true)\n\n    // Check if user is authenticated on mount\n    useEffect(() => {\n        const initAuth = async () => {\n            try {\n                if (AuthService.isAuthenticated()) {\n                    const userInfo = await AuthService.getCurrentUser()\n                    setUser(userInfo)\n                }\n            } catch (error) {\n                console.error('Failed to fetch user info:', error)\n                // Clear invalid token\n                AuthService.logout()\n            } finally {\n                setLoading(false)\n            }\n        }\n\n        initAuth()\n    }, [])\n\n    const login = async (username: string, password: string) => {\n        try {\n            const response = await AuthService.login({ username, password })\n\n            if (response.access_token) {\n                // Fetch user info after successful login\n                const userInfo = await AuthService.getCurrentUser()\n                setUser(userInfo)\n            }\n        } catch (error) {\n            throw error\n        }\n    }\n\n    const logout = async () => {\n        try {\n            await AuthService.logout()\n        } catch (error) {\n            console.error('Logout error:', error)\n        } finally {\n            setUser(null)\n        }\n    }\n\n    const refreshUser = async () => {\n        try {\n            if (AuthService.isAuthenticated()) {\n                const userInfo = await AuthService.getCurrentUser()\n                setUser(userInfo)\n            }\n        } catch (error: any) {\n            // If 401, try to refresh token\n            if (error.response?.status === 401) {\n                try {\n                    await AuthService.refreshToken()\n                    const userInfo = await AuthService.getCurrentUser()\n                    setUser(userInfo)\n                } catch (refreshError) {\n                    console.error('Failed to refresh token:', refreshError)\n                    await logout()\n                }\n            } else {\n                console.error('Failed to refresh user info:', error)\n                await logout()\n            }\n        }\n    }\n\n    const value: AuthContextType = {\n        user,\n        isAuthenticated: !!user,\n        loading,\n        login,\n        logout,\n        refreshUser,\n    }\n\n    return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\n}\n\nexport function useAuth() {\n    const context = useContext(AuthContext)\n    if (context === undefined) {\n        throw new Error('useAuth must be used within an AuthProvider')\n    }\n    return context\n}\n"],"names":[],"mappings":";;;;;;;AACA;AACA;;;AAFA;;;AAaA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAkB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,0CAA0C;IAC1C,IAAA,0KAAS;kCAAC;YACN,MAAM;mDAAW;oBACb,IAAI;wBACA,IAAI,oIAAW,CAAC,eAAe,IAAI;4BAC/B,MAAM,WAAW,MAAM,oIAAW,CAAC,cAAc;4BACjD,QAAQ;wBACZ;oBACJ,EAAE,OAAO,OAAO;wBACZ,QAAQ,KAAK,CAAC,8BAA8B;wBAC5C,sBAAsB;wBACtB,oIAAW,CAAC,MAAM;oBACtB,SAAU;wBACN,WAAW;oBACf;gBACJ;;YAEA;QACJ;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,UAAkB;QACnC,IAAI;YACA,MAAM,WAAW,MAAM,oIAAW,CAAC,KAAK,CAAC;gBAAE;gBAAU;YAAS;YAE9D,IAAI,SAAS,YAAY,EAAE;gBACvB,yCAAyC;gBACzC,MAAM,WAAW,MAAM,oIAAW,CAAC,cAAc;gBACjD,QAAQ;YACZ;QACJ,EAAE,OAAO,OAAO;YACZ,MAAM;QACV;IACJ;IAEA,MAAM,SAAS;QACX,IAAI;YACA,MAAM,oIAAW,CAAC,MAAM;QAC5B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,iBAAiB;QACnC,SAAU;YACN,QAAQ;QACZ;IACJ;IAEA,MAAM,cAAc;QAChB,IAAI;YACA,IAAI,oIAAW,CAAC,eAAe,IAAI;gBAC/B,MAAM,WAAW,MAAM,oIAAW,CAAC,cAAc;gBACjD,QAAQ;YACZ;QACJ,EAAE,OAAO,OAAY;YACjB,+BAA+B;YAC/B,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;gBAChC,IAAI;oBACA,MAAM,oIAAW,CAAC,YAAY;oBAC9B,MAAM,WAAW,MAAM,oIAAW,CAAC,cAAc;oBACjD,QAAQ;gBACZ,EAAE,OAAO,cAAc;oBACnB,QAAQ,KAAK,CAAC,4BAA4B;oBAC1C,MAAM;gBACV;YACJ,OAAO;gBACH,QAAQ,KAAK,CAAC,gCAAgC;gBAC9C,MAAM;YACV;QACJ;IACJ;IAEA,MAAM,QAAyB;QAC3B;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;QACA;QACA;IACJ;IAEA,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAChD;GAlFgB;KAAA;AAoFT,SAAS;;IACZ,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANgB"}}]
}